<section class="">
    <div class="page-content">
      <div class="form-wrapper oval box-shadow">
        <form [formGroup]="changePasswordForm" (ngSubmit)="changePassword(changePasswordForm.value)">
          <h4 class="text-center text-pry">Change Password</h4>
          <br />
          <div *ngIf="changePasswordForm.errors">
            <p class="text-center text-danger" *ngIf="changePasswordForm.errors.invalid">
              {{changePasswordForm.errors.invalid}}
            </p>
          </div>
          <div class="form-group">
            <p class="small">Current Password</p>
            <input type="password" class="oval-sm form-control form-control-lg" formControlName="oldpassword">
            <div *ngIf="form.oldpassword.invalid && (form.oldpassword.dirty || form.oldpassword.touched)" class="text-danger">
                <small *ngIf="form.oldpassword.errors.required">
                  Please enter your current password
                </small>
              </div>
          </div>
          <div class="form-group">
            <p class="small">New Password</p>
            <input type="password" class="oval-sm form-control form-control-lg" formControlName="password" (ngModelChange)="updateChangePwdValidator()">
            <div *ngIf="form.password.invalid && (form.password.dirty || form.password.touched)" class="text-danger">
              <small class="d-block" *ngIf="form.password.errors.required">
                Please enter your new password
              </small>
              <small class="d-block" *ngIf="form.password.errors.minlength">
               Password should be at least 6 characters
              </small>
            </div>
          </div>
          <div class="form-group">
            <p class="small">Confirm Password</p>
            <input type="password" class="oval-sm form-control form-control-lg" formControlName="password_confirmation">
            <div *ngIf="form.password_confirmation.invalid && (form.password_confirmation.dirty || form.password_confirmation.touched)" class="text-danger">
              <small class="d-block" *ngIf="form.password_confirmation.errors.required">
                Please enter your new password to confirm
              </small>
              <small class="d-block" *ngIf="form.password_confirmation.errors.confirmPassword">
               Passwords do not match
              </small>
              <small class="d-block" *ngIf="form.password_confirmation.errors.minlength">
                Password should be at least 6 characters
               </small>
            </div>
          </div>
          <br />
          <button class="oval-sm btn btn-lg btn-block text-white" type="submit" [disabled]="loading || changePasswordForm.invalid">{{loading ? 'Changing...' : 'Change Password'}}</button>
        </form>
       </div>
    </div>
  </section>
  